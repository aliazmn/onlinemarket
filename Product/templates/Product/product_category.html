{% extends 'home.html' %}
{% load static %}
{% load queryparams %}

{% block main %}
<!-- Breadcumbs start -->
<div class="e-breadcumb-wrap text-center">
    <h2 class="e-breadcumb-title">دسته محصولات </h2>
    <ul class="e-breadcumb-kist">
        <li>
            <a href="{% url 'home' %}">خانه </a>
        </li>
        <li>
            <a href=''> {{category.sub_cat.cat_title}} </a>
        </li>
        <li>
            <a href="{% url 'product:showproduct' %}?c={{category.id}}"> {{category.cat_title}} </a>
        </li>
    </ul>
</div>
<!-- Product Category start -->
<section class="e-procategory-wrap">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="e-filter-bar">
                    <div class="e-filter-leftbar">
                    </div>
                    <div class="e-filter-rightbar">
                        <form action="{% url 'product:showproduct'  %}" method="GET">
                        <ul class="e-filter-list">
                            <input type="hidden" name="c" value="{{category.id}}" />
                            <li><input type="submit" value= "فیلتر"  />
                                
                                <span class="e-filter-icon">
                                    <svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14px" height="18px"><path fill-rule="evenodd" fill="rgb(96, 186, 190)" d="M13.118,3.502 C12.891,3.512 12.659,3.512 12.432,3.510 C12.160,3.509 11.888,3.507 11.617,3.525 C11.553,3.529 11.438,3.603 11.416,3.645 C10.915,4.705 10.127,5.246 9.075,5.252 C9.069,5.252 9.064,5.252 9.058,5.252 C7.987,5.252 7.180,4.702 6.726,3.658 C6.663,3.516 6.663,3.510 6.455,3.507 C5.042,3.512 3.631,3.512 2.218,3.512 L1.273,3.513 C1.141,3.514 1.008,3.516 0.876,3.503 C0.348,3.455 0.014,3.105 0.027,2.613 C0.040,2.102 0.384,1.782 0.926,1.776 C1.587,1.769 2.249,1.770 2.911,1.772 L3.522,1.773 L4.478,1.770 C5.149,1.769 5.817,1.767 6.487,1.776 C6.640,1.775 6.648,1.765 6.712,1.619 C7.168,0.568 7.972,0.014 9.037,0.014 C9.044,0.014 9.051,0.014 9.059,0.014 C10.154,0.021 10.960,0.583 11.392,1.639 C11.442,1.764 11.465,1.781 11.619,1.775 C12.108,1.762 12.601,1.765 13.094,1.775 C13.627,1.788 13.976,2.121 13.986,2.621 C13.995,3.125 13.646,3.479 13.118,3.502 ZM9.051,1.741 C9.050,1.741 9.050,1.741 9.050,1.741 C8.578,1.742 8.195,2.139 8.195,2.626 C8.195,2.881 8.285,3.111 8.448,3.274 C8.609,3.434 8.831,3.519 9.078,3.517 C9.302,3.514 9.515,3.419 9.677,3.250 C9.842,3.078 9.929,2.856 9.925,2.624 C9.914,2.145 9.515,1.741 9.051,1.741 ZM1.976,6.442 C3.283,6.147 4.298,6.720 4.975,8.139 L12.947,8.139 C13.314,8.139 13.591,8.233 13.772,8.421 C13.921,8.574 13.995,8.785 13.988,9.030 C13.973,9.559 13.586,9.874 12.953,9.874 L4.978,9.875 C4.304,11.260 3.395,11.641 2.602,11.641 C2.383,11.641 2.174,11.613 1.980,11.568 C0.833,11.304 -0.000,10.228 -0.002,9.007 C-0.003,7.779 0.829,6.700 1.976,6.442 ZM2.565,9.908 C3.031,9.908 3.411,9.507 3.414,9.015 C3.417,8.509 3.058,8.119 2.578,8.107 C2.572,8.107 2.564,8.107 2.558,8.107 C2.341,8.107 2.136,8.193 1.977,8.349 C1.802,8.524 1.707,8.760 1.709,9.017 C1.714,9.508 2.097,9.908 2.565,9.908 ZM0.859,14.506 C0.953,14.497 1.046,14.499 1.140,14.499 L1.229,14.500 L2.103,14.498 C2.846,14.495 3.589,14.495 4.334,14.506 C4.550,14.502 4.619,14.488 4.718,14.264 C5.151,13.277 5.946,12.756 7.018,12.756 C7.023,12.756 7.026,12.756 7.031,12.756 C8.068,12.759 8.851,13.280 9.297,14.262 C9.395,14.479 9.439,14.504 9.647,14.506 C10.412,14.492 11.178,14.492 11.945,14.496 L12.709,14.497 L12.814,14.496 C12.932,14.492 13.053,14.494 13.171,14.509 C13.687,14.578 13.976,14.883 13.984,15.369 C13.993,15.884 13.648,16.224 13.107,16.233 C12.678,16.241 12.248,16.239 11.817,16.239 L11.472,16.238 L10.809,16.240 C10.396,16.243 9.979,16.244 9.564,16.234 C9.444,16.237 9.399,16.243 9.341,16.383 C8.905,17.439 8.100,17.997 7.010,17.997 C7.007,17.997 7.004,17.997 7.000,17.997 C5.909,17.994 5.102,17.432 4.665,16.372 C4.615,16.247 4.584,16.238 4.434,16.236 C3.255,16.240 2.077,16.240 0.899,16.236 C0.395,16.233 0.071,15.930 0.031,15.425 C-0.008,14.931 0.325,14.562 0.859,14.506 ZM6.989,16.271 C7.211,16.271 7.426,16.181 7.595,16.013 C7.772,15.837 7.872,15.598 7.870,15.359 C7.866,14.871 7.479,14.475 7.007,14.475 L7.006,14.475 C6.530,14.475 6.151,14.865 6.143,15.363 C6.135,15.831 6.538,16.264 6.989,16.271 Z"/></svg>
                                </span>
                            </li>
                            <li>
                                <select name="price">
                                    <option value="">قیمت </option>
                                    <option value="500000,990000">500000 تومان - 990000 تومان</option>
                                    <option value="1000000,2000000">1000000 تومان - 2000000 تومان</option>
                                    <option value="3000000,5000000">3000000 تومان - 5000000 تومان</option>
                                    <option value="5000000,9000000">5000000 تومان - 900000 تومان</option>
                                </select>
                            </li>
                            <li>
                                <select name="brand">
                                    <option value="">برند</option>
                                    {% for elm in productlist %}
                                    {% if elm.brand %}
                                    <option value="{{elm.brand}}">{{elm.brand}}</option>
                                    {% endif %}
                                    {% endfor %}
                                </select>
                            </li>
                        </ul>
                    </form>
                    </div>
                </div>  
                <div class="e-procategory-inner "> 
                    <ul>

                        {% for elm in productlist %}
                        <li>

                            <div class="e-procategory-box">
                                <div class="procategory-gridbox">
                                    <div class="c-product-box">
                                        <div class="na-top-sec text-center">
                                            <div class="na-imgbox">
                                                <div class="na-mainimg">
                                                    {% if elm.img  %}
                                                        <img src='{{ elm.img.url }}' alt="product-img">
                                                    {% else %}
                                                    <img src='' alt="product-img">
                                                    {% endif %}
                                                </div>                                        
                                                <div class="na-overlay-img">
                                                    {% if elm.img  %}
                                                    <img src='{{ elm.img.url }}' alt="product-img">
                                                     {% else %}
                                                    <img src='' alt="product-img">
                                                    {% endif %}
                                                </div>
                                            </div>
            
                                            <ul class="na-hover-content na-vartical-hover">
                                                <li><a href="{% url 'product:add_wishlist' %}" method="POST"><span><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="15px"><path fill-rule="evenodd" fill="rgb(242, 243, 245)" d="M14.692,1.994 C13.881,1.077 12.769,0.571 11.560,0.571 C10.652,0.571 9.819,0.871 9.087,1.461 C8.846,1.656 8.618,1.882 8.406,2.135 C8.198,1.884 7.968,1.658 7.725,1.461 C6.994,0.871 6.161,0.571 5.253,0.571 C4.044,0.571 2.932,1.077 2.121,1.994 C1.329,2.891 0.892,4.113 0.892,5.433 C0.892,6.786 1.368,8.018 2.392,9.308 C3.276,10.421 4.528,11.534 5.988,12.834 C6.452,13.246 7.027,13.759 7.610,14.290 C7.830,14.491 8.113,14.602 8.406,14.602 C8.700,14.602 8.983,14.491 9.202,14.290 C9.788,13.756 10.364,13.244 10.828,12.831 C12.279,11.540 13.532,10.426 14.420,9.308 C15.444,8.018 15.921,6.787 15.921,5.433 C15.921,4.113 15.484,2.891 14.692,1.994 ZM5.253,2.201 C5.803,2.201 6.310,2.385 6.760,2.747 C7.173,3.082 7.464,3.509 7.636,3.809 C7.799,4.094 8.087,4.264 8.406,4.264 C8.725,4.264 9.014,4.094 9.177,3.809 C9.348,3.510 9.638,3.083 10.053,2.747 C10.502,2.385 11.009,2.201 11.560,2.201 C12.322,2.201 13.023,2.518 13.532,3.095 C14.059,3.691 14.348,4.521 14.348,5.433 C14.348,6.401 13.996,7.277 13.207,8.272 C12.410,9.275 11.207,10.345 9.804,11.594 L9.776,11.619 C9.401,11.952 8.914,12.386 8.405,12.845 C7.915,12.400 7.445,11.982 7.005,11.591 C5.610,10.349 4.405,9.277 3.606,8.272 C2.817,7.277 2.464,6.401 2.464,5.433 C2.464,4.521 2.754,3.691 3.281,3.095 C3.790,2.518 4.490,2.201 5.253,2.201 Z"/></svg></span></a></li>
                                                <li><a href="cart.html"><span><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16px" height="17px"><path fill-rule="evenodd" fill="rgb(255, 255, 255)" d="M15.021,2.851 C14.062,4.907 13.088,6.956 12.135,9.016 C11.930,9.458 11.634,9.640 11.181,9.638 C9.373,9.629 7.565,9.635 5.757,9.637 C5.596,9.637 5.434,9.629 5.275,9.650 C4.902,9.700 4.643,10.009 4.629,10.400 C4.615,10.804 4.874,11.151 5.255,11.214 C5.412,11.241 5.575,11.236 5.735,11.236 C8.012,11.238 10.289,11.237 12.566,11.238 C13.280,11.238 13.632,11.507 13.625,12.038 C13.617,12.573 13.269,12.832 12.558,12.832 C11.379,12.832 10.200,12.832 9.022,12.832 C9.022,12.832 9.022,12.831 9.022,12.831 C7.843,12.831 6.664,12.832 5.486,12.830 C4.381,12.829 3.531,12.194 3.224,11.143 C2.919,10.097 3.284,9.038 4.194,8.393 C4.374,8.265 4.406,8.164 4.343,7.947 C3.774,5.956 3.213,3.963 2.663,1.967 C2.594,1.713 2.490,1.621 2.246,1.631 C1.818,1.650 1.389,1.648 0.961,1.638 C0.441,1.626 0.115,1.295 0.126,0.812 C0.136,0.345 0.452,0.043 0.961,0.036 C1.631,0.028 2.301,0.028 2.970,0.035 C3.519,0.041 3.740,0.225 3.899,0.784 C4.142,1.636 4.142,1.637 4.990,1.637 C7.990,1.636 10.990,1.635 13.991,1.634 C14.124,1.634 14.259,1.631 14.392,1.645 C15.007,1.711 15.298,2.256 15.021,2.851 ZM4.588,3.243 C5.025,4.809 5.443,6.326 5.885,7.835 C5.914,7.933 6.128,8.024 6.256,8.025 C7.690,8.038 9.123,8.024 10.557,8.040 C10.825,8.043 10.960,7.952 11.076,7.699 C11.687,6.366 12.316,5.043 12.937,3.715 C13.004,3.571 13.063,3.422 13.140,3.243 C10.265,3.243 7.454,3.243 4.588,3.243 ZM6.878,14.440 C7.286,14.442 7.619,14.795 7.621,15.226 C7.622,15.658 7.295,16.018 6.891,16.029 C6.458,16.041 6.129,15.689 6.136,15.221 C6.142,14.771 6.458,14.438 6.878,14.440 ZM11.374,14.437 C11.778,14.438 12.117,14.792 12.123,15.222 C12.130,15.668 11.777,16.040 11.357,16.029 C10.943,16.018 10.631,15.670 10.634,15.223 C10.636,14.779 10.959,14.436 11.374,14.437 Z"/></svg></span></a></li>
                                                <li><a href="product_details.html"><span><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15px" height="16px"><path fill-rule="evenodd" fill="rgb(255, 255, 255)" d="M14.100,13.964 C13.679,13.500 13.249,13.043 12.820,12.586 L10.652,10.282 C12.647,7.194 11.603,3.514 9.448,1.831 C7.146,0.033 4.034,0.263 2.049,2.378 C0.061,4.497 -0.177,7.831 1.484,10.306 C2.306,11.533 3.683,12.418 5.168,12.673 C6.212,12.851 7.786,12.806 9.425,11.601 L9.495,11.684 C9.649,11.868 9.807,12.056 9.973,12.235 C10.891,13.225 11.810,14.213 12.740,15.191 C12.924,15.383 13.145,15.522 13.348,15.571 C13.410,15.585 13.470,15.593 13.530,15.593 C13.825,15.593 14.089,15.415 14.259,15.093 C14.462,14.710 14.404,14.298 14.100,13.964 ZM8.803,3.755 C9.536,4.540 9.938,5.586 9.936,6.701 C9.935,7.812 9.528,8.855 8.791,9.640 C8.056,10.422 7.080,10.853 6.043,10.853 C6.041,10.853 6.038,10.853 6.036,10.853 C4.997,10.851 4.017,10.410 3.275,9.611 C2.539,8.819 2.138,7.779 2.147,6.684 C2.165,4.356 3.878,2.535 6.048,2.535 C6.049,2.535 6.052,2.535 6.053,2.535 C7.094,2.536 8.071,2.969 8.803,3.755 Z"/></svg></span></a></li>
                                            </ul>
                                        </div>
                                        <div class="na-top-heading text-center">
                                            <a href="{% url 'product:detailproduct' elm.id %}" class="na-name">{{elm.name}}</a>
                                            <h2 class="na-price">{{elm.price}} تومان</h2>
                                        </div>
                                    </div> 
                                </div>
                            </div>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
                <div class="e-pagination-wrap mt-10">
                    <ul class="e-pagination justify-content-center e-line">
                        {% if page_obj.has_previous %}
                        <li class="e-page-item disabled"><a class="e-btn light" href="{% add_get_param page=page_obj.previous_page_number %}"> قبلی </a></li>
                        {% else %}
                        <li class="e-page-item disabled"><a class="e-btn light" href=""> قبلی </a></li>

                        {% endif %}

                        {% if page_obj.has_next %}
                        <li class="e-page-item"><a class="e-btn light" href="{% add_get_param page=page_obj.next_page_number %}">بعدی </a></li>
                        {% else %}
                        <li class="e-page-item disabled"><a class="e-btn light" href=""> بعدی </a></li>

                        {% endif %}
                      </ul>
                </div>        
            </div>            
        </div>
    </div>
</section>
{% endblock main %}
